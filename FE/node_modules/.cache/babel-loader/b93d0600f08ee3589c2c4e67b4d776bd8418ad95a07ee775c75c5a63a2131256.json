{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\capstone-main-main\\\\FE\\\\src\\\\pages\\\\auth\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link as RouterLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { Box, Button, TextField, Link, Typography, Alert, CircularProgress } from '@mui/material';\nimport { login } from '../../store/slices/authSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validationSchema = Yup.object({\n  email: Yup.string().email('Invalid email address').required('Email is required'),\n  password: Yup.string().min(6, 'Password must be at least 6 characters').required('Password is required')\n});\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    loading,\n    error\n  } = useSelector(state => state.auth);\n  const [loginError, setLoginError] = useState('');\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema,\n    onSubmit: async values => {\n      try {\n        const result = await dispatch(login(values)).unwrap();\n        if (result) {\n          navigate('/dashboard');\n        }\n      } catch (err) {\n        setLoginError(err.message || 'Failed to login');\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"form\",\n    onSubmit: formik.handleSubmit,\n    sx: {\n      width: '100%'\n    },\n    children: [loginError && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: loginError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      id: \"email\",\n      name: \"email\",\n      label: \"Email Address\",\n      value: formik.values.email,\n      onChange: formik.handleChange,\n      onBlur: formik.handleBlur,\n      error: formik.touched.email && Boolean(formik.errors.email),\n      helperText: formik.touched.email && formik.errors.email,\n      margin: \"normal\",\n      autoComplete: \"email\",\n      autoFocus: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      id: \"password\",\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      value: formik.values.password,\n      onChange: formik.handleChange,\n      onBlur: formik.handleBlur,\n      error: formik.touched.password && Boolean(formik.errors.password),\n      helperText: formik.touched.password && formik.errors.password,\n      margin: \"normal\",\n      autoComplete: \"current-password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      sx: {\n        mt: 3,\n        mb: 2\n      },\n      disabled: loading,\n      children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 20\n      }, this) : 'Sign In'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        component: RouterLink,\n        to: \"/forgot-password\",\n        variant: \"body2\",\n        children: \"Forgot password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          component: \"span\",\n          children: [\"Don't have an account?\", ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          component: RouterLink,\n          to: \"/register\",\n          variant: \"body2\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"V1Et1WxN0P/dh62VgrkdZ3jBntk=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Link","RouterLink","useDispatch","useSelector","useFormik","Yup","Box","Button","TextField","Typography","Alert","CircularProgress","login","jsxDEV","_jsxDEV","validationSchema","object","email","string","required","password","min","Login","_s","navigate","dispatch","loading","error","state","auth","loginError","setLoginError","formik","initialValues","onSubmit","values","result","unwrap","err","message","component","handleSubmit","sx","width","children","severity","mb","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","id","name","label","value","onChange","handleChange","onBlur","handleBlur","touched","Boolean","errors","helperText","margin","autoComplete","autoFocus","type","variant","mt","disabled","size","textAlign","to","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Downloads/capstone-main-main/FE/src/pages/auth/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link as RouterLink } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  Link,\r\n  Typography,\r\n  Alert,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport { login } from '../../store/slices/authSlice';\r\n\r\nconst validationSchema = Yup.object({\r\n  email: Yup.string()\r\n    .email('Invalid email address')\r\n    .required('Email is required'),\r\n  password: Yup.string()\r\n    .min(6, 'Password must be at least 6 characters')\r\n    .required('Password is required'),\r\n});\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { loading, error } = useSelector((state) => state.auth);\r\n  const [loginError, setLoginError] = useState('');\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    validationSchema,\r\n    onSubmit: async (values) => {\r\n      try {\r\n        const result = await dispatch(login(values)).unwrap();\r\n        if (result) {\r\n          navigate('/dashboard');\r\n        }\r\n      } catch (err) {\r\n        setLoginError(err.message || 'Failed to login');\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Box component=\"form\" onSubmit={formik.handleSubmit} sx={{ width: '100%' }}>\r\n      {loginError && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {loginError}\r\n        </Alert>\r\n      )}\r\n      <TextField\r\n        fullWidth\r\n        id=\"email\"\r\n        name=\"email\"\r\n        label=\"Email Address\"\r\n        value={formik.values.email}\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        error={formik.touched.email && Boolean(formik.errors.email)}\r\n        helperText={formik.touched.email && formik.errors.email}\r\n        margin=\"normal\"\r\n        autoComplete=\"email\"\r\n        autoFocus\r\n      />\r\n      <TextField\r\n        fullWidth\r\n        id=\"password\"\r\n        name=\"password\"\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        value={formik.values.password}\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        error={formik.touched.password && Boolean(formik.errors.password)}\r\n        helperText={formik.touched.password && formik.errors.password}\r\n        margin=\"normal\"\r\n        autoComplete=\"current-password\"\r\n      />\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        sx={{ mt: 3, mb: 2 }}\r\n        disabled={loading}\r\n      >\r\n        {loading ? <CircularProgress size={24} /> : 'Sign In'}\r\n      </Button>\r\n      <Box sx={{ textAlign: 'center' }}>\r\n        <Link component={RouterLink} to=\"/forgot-password\" variant=\"body2\">\r\n          Forgot password?\r\n        </Link>\r\n        <Box sx={{ mt: 2 }}>\r\n          <Typography variant=\"body2\" component=\"span\">\r\n            Don't have an account?{' '}\r\n          </Typography>\r\n          <Link component={RouterLink} to=\"/register\" variant=\"body2\">\r\n            Sign Up\r\n          </Link>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}